<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto Filler AI</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <div class="header-content">
                <h1>ü§ñ Auto Filler AI</h1>
                <p class="subtitle">Powered by Gemini AI</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="content">
            <!-- API Configuration Card -->
            <div class="card api-card">
                <div class="card-header">
                    <h3><i class="fas fa-key"></i> API Configuration</h3>
                </div>
                <div class="card-body">
                    <div class="input-group">
                        <label class="input-label" for="apiKey">
                            <i class="fas fa-shield-alt"></i> Gemini API Key
                        </label>
                        <div class="input-wrapper">
                            <input 
                                type="password" 
                                id="apiKey" 
                                class="form-input" 
                                placeholder="AIzaSy..."
                                autocomplete="off"
                                spellcheck="false"
                                minlength="30"
                                maxlength="100"
                                title="Masukkan API Key dari Google AI Studio"
                            >
                            <button id="saveApiKey" class="btn-icon" title="Save & Validate API Key">
                                <i class="fas fa-save"></i>
                            </button>
                        </div>
                        <div class="input-strength"></div>
                        <div id="apiStatus" class="api-status" style="display: none;"></div>
                    </div>
                </div>
            </div>

            <!-- Form Detection Card -->
            <div class="card detection-card">
                <div class="card-header">
                    <h3><i class="fas fa-search"></i> Status Form</h3>
                </div>
                <div class="card-body">
                    <div class="status-grid">
                        <div class="status-item">
                            <span class="status-label">Forms</span>
                            <span class="status-value" id="formCount">0</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Fields</span>
                            <span class="status-value" id="fieldCount">0</span>
                        </div>
                    </div>
                    
                    <!-- Selected Element Info -->
                    <div id="selectedElementInfo" class="selected-element-info" style="display: none;">
                        <div class="selected-element-header">
                            <i class="fas fa-bullseye"></i>
                            <span>Elemen Terpilih</span>
                        </div>
                        <div class="selected-element-details">
                            <div class="element-tag" id="selectedElementTag">-</div>
                            <div class="element-selector" id="selectedElementSelector">-</div>
                            <button id="clearSelection" class="btn-clear-selection" title="Clear Selection">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons Card -->
            <section class="card actions-card">
                <div class="card-header">
                    <h3><i class="fas fa-play"></i> Actions</h3>
                </div>
                <div class="card-body">
                    <div class="btn-group-primary">
                        <button id="selectElement" class="btn btn-action selector">
                            <span class="btn-text">
                                <i class="fas fa-crosshairs"></i>
                                Pilih Elemen
                            </span>
                        </button>
                        <button id="analyzeForm" class="btn btn-action secondary">
                            <span class="btn-text">
                                <i class="fas fa-search"></i>
                                Analisis Form
                            </span>
                        </button>
                        <button id="fillForm" class="btn btn-action primary" disabled>
                            <span class="btn-text">
                                <i class="fas fa-magic"></i>
                                Isi Form dengan AI
                            </span>
                        </button>
                    </div>
                    
                    <div class="btn-group-secondary">
                        <button id="clearForm" class="btn btn-action danger">
                            <span class="btn-text">
                                <i class="fas fa-trash"></i>
                                Kosongkan Form
                            </span>
                        </button>
                    </div>
                    
                    <div class="btn-group-utility">
                        <button id="debugForm" class="btn btn-utility debug">
                            <span class="btn-text">
                                <i class="fas fa-bug"></i>
                                Debug
                            </span>
                        </button>
                        <button id="resetUsedData" class="btn btn-utility reset">
                            <span class="btn-text">
                                <i class="fas fa-redo"></i>
                                Reset
                            </span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Activity Log Card -->
            <section class="card log-card">
                <div class="card-header">
                    <h3>üìù Log Aktivitas</h3>
                </div>
                <div class="card-body">
                    <div class="log-container" id="logContainer">
                        <div class="log-item info">Ekstensi siap digunakan</div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Dibuat untuk developer testing</p>
        </footer>
    </div>
    <script src="popup.js"></script>
</body>
</html>